function ot({state:u,statePath:s,selector:d,plugins:m,external_plugins:p,toolbar:f,language:h="en",language_url:g=null,directionality:b="ltr",height:_=null,max_height:y=0,min_height:w=100,width:k=null,max_width:C=0,min_width:F=400,resize:v=!1,skin:E="oxide",content_css:x="default",toolbar_sticky:A=!0,toolbar_sticky_offset:j=64,toolbar_mode:q="sliding",toolbar_location:G="auto",inline:L=!1,toolbar_persist:M=!1,menubar:z=!1,font_size_formats:T="",fontfamily:S="",relative_urls:$=!0,image_list:P=null,image_advtab:D=!1,image_description:O=!1,image_class_list:V=null,images_upload_url:W=null,images_upload_base_path:a=null,remove_script_host:B=!0,convert_urls:H=!0,custom_configs:I={},setup:r=null,disabled:Q=!1,locale:R="en",license_key:J="gpl",placeholder:nt=null}){let c=window.filamentTinyEditors||{};return{id:null,state:u,statePath:s,selector:d,language:h,language_url:g,directionality:b,height:_,max_height:y,min_height:w,width:k,max_width:C,min_width:F,resize:v,skin:E,content_css:x,plugins:m,external_plugins:p,toolbar:f,toolbar_sticky:A,menubar:z,relative_urls:$,remove_script_host:B,convert_urls:H,font_size_formats:T,fontfamily:S,setup:r,image_list:P,image_advtab:D,image_description:O,image_class_list:V,images_upload_url:W,images_upload_base_path:a,license_key:J,custom_configs:I,updatedAt:Date.now(),disabled:Q,locale:R,init(){this.initEditor(u.initialValue),window.filamentTinyEditors=c,this.$watch("state",(e,l)=>{e==="<p></p>"&&e!==this.editor()?.getContent()&&(this.editor()&&this.editor().destroy(),this.initEditor(e)),this.editor()?.container&&e!==this.editor()?.getContent()&&(this.updateEditorContent(e||""),this.putCursorToEnd())})},editor(){return tinymce.get(c[this.statePath])},initEditor(e){let l=this,K=this.$wire,N=S||"Arial=arial,helvetica,sans-serif; Courier New=courier new,courier,monospace; AkrutiKndPadmini=Akpdmi-n",X={selector:d,language:h,language_url:g,directionality:b,statusbar:!1,promotion:!1,height:_,max_height:y,min_height:w,width:k,max_width:C,min_width:F,resize:v,skin:E,content_css:x,plugins:m,external_plugins:p,toolbar:f,toolbar_sticky:A,toolbar_sticky_offset:j,toolbar_mode:q,toolbar_location:G,inline:L,toolbar_persist:M,menubar:z,menu:{file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},font_size_formats:T||"8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",fontfamily:N,font_family_formats:N,relative_urls:$,remove_script_host:B,convert_urls:H,image_list:P,image_advtab:D,image_description:O,image_class_list:V,images_upload_url:W,images_upload_base_path:a,license_key:J,...I,setup:function(t){window.tinySettingsCopy||(window.tinySettingsCopy=[]),t.settings&&!window.tinySettingsCopy.some(i=>i.id===t.settings.id)&&window.tinySettingsCopy.push(t.settings),t.on("blur",function(i){l.updatedAt=Date.now(),l.state=t.getContent()}),t.on("init",function(i){c[l.statePath]=t.id,e!=null&&t.setContent(e)}),t.on("OpenWindow",function(i){let o=i.target.container.closest(".fi-modal");o&&o.setAttribute("x-trap.noscroll","false")}),t.on("CloseWindow",function(i){let o=i.target.container.closest(".fi-modal");o&&o.setAttribute("x-trap.noscroll","isOpen")}),typeof r=="function"&&r(t)},images_upload_handler:(t,i)=>new Promise((o,Y)=>{if(!t.blob())return;let Z=(n,U)=>n?n.replace(/\/$/,"")+"/"+U.replace(/^\//,""):U,tt=()=>{K.getFormComponentFileAttachmentUrl(s).then(n=>{if(!n){Y("Image upload failed");return}o(Z(a,n))})},et=()=>{},it=n=>{i(n.detail.progress)};K.upload(`componentFileAttachments.${s}`,t.blob(),tt,et,it)}),automatic_uploads:!0};tinymce.init(X)},updateEditorContent(e){this.editor().setContent(e)},putCursorToEnd(){this.editor().selection.select(this.editor().getBody(),!0),this.editor().selection.collapse(!1)}}}export{ot as default};
